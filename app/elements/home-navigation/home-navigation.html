<dom-module id="home-navigation">
	<style>
		:host {
			@apply(--layout-vertical);
			z-index: 100;
			padding: 20px;
		}

		h1.header {
			@apply(--header);
		}

		/*:host:hover .toggle {
			display: block;
		}

		:host:hover iron-icon {
			display: none;
		}

		:host .toggle {
			display: none;
		}

		:host iron-icon {
			padding: 10px;
			border: 1px solid;
			background-color: #1C1C1C;
			border-radius: 6px;
			color: white;
		}
		.toggle {
			display: none;
			background-color: #222222;
			border: 2px solid #FFFFFF;
			border-radius: 6px;
			color: #FFFFFF;
			cursor: pointer;
			font-size: 1vw;
			font-weight: 500;
			margin: 0.5vw 0 0 0;
			padding: 0.8vw 1.1vw;
			position: relative;
			text-transform: uppercase;
			z-index: 5;
			width: 200px;
		}
		.toggle paper-radio-button {
			padding-bottom: 15px;
			padding-left: 10px;
		}
		.toggle paper-radio-button:first-child {
			padding-top: 15px;
		}

		[data-select="analysis"] {
			--paper-radio-button-checked-color: #f7a017;
			--paper-radio-button-checked-ink-color: #f7a017;
		}
		[data-select="comparison"] {
			--paper-radio-button-checked-color: #683a78;
			--paper-radio-button-checked-ink-color: #683a78;
		}
		[data-select="training"] {
			--paper-radio-button-checked-color: #074a8c;
			--paper-radio-button-checked-ink-color: #074a8c;
		}
		[data-select="laps"] {
			--paper-radio-button-checked-color: #f7a017;
			--paper-radio-button-checked-ink-color: #f7a017;
		}*/

		[data-select] {
			@apply(--layout-center);
			@apply(--layout-justified);
			@apply(--layout-horizontal);
			background-color: var(--primary-background-color);
			border: 2px solid #FFFFFF;
			border-radius: 6px;
			color: #FFFFFF;
			cursor: pointer;
			font-size: 1vw;
			font-weight: 500;
			margin: 0.5vw 1vw 0 0;
			padding: 0.8vw 1.1vw;
			position: relative;
			text-transform: uppercase;
			z-index: 5;
		}
		[data-select] .circle {
			width: 1.3vw;
			height: 1.3vw;
			border-radius: 50%;
			border: 3px #FFFFFF solid;
			z-index: 2;
		}
		[data-select] .type {
			padding-left: 10px;
		}
		[data-toggle="on"][data-select="analysis"] .circle {
			background-color: #F7A017;
			border-color: #F7A017;
			-webkit-box-shadow: 0px 0px 20px 0px #F7A017;
			-moz-box-shadow: 0px 0px 20px 0px #F7A017;
			box-shadow: 0px 0px 20px 0px #F7A017;
		}
		[data-toggle="on"][data-select="comparison"] .circle {
			background-color: #084784;
			border-color: #084784;
			-webkit-box-shadow: 0px 0px 20px 0px #084784;
			-moz-box-shadow: 0px 0px 20px 0px #084784;
			box-shadow: 0px 0px 20px 0px #084784;
		}
		[data-toggle="on"][data-select="training"] .circle {
			background-color: #fce9d2;
			border-color: #fce9d2;
			-webkit-box-shadow: 0px 0px 20px 0px #5ea7a1;
			-moz-box-shadow: 0px 0px 20px 0px #5ea7a1;
			box-shadow: 0px 0px 20px 0px #5ea7a1;
		}
	</style>
	<template>
		<!-- <iron-icon icon="icons:menu"></iron-icon>
		<div class="toggle">
			<paper-radio-button on-click="router" data-select="analysis" checked="true">Data Analysis</paper-radio-button>
			<paper-radio-button on-click="router" data-select="comparison">Comparison</paper-radio-button>
			<paper-radio-button on-click="router" data-select="training">Training</paper-radio-button>
			<paper-radio-button on-click="router" data-select="laps" class="hidden">Laps</paper-radio-button>
		</div> -->
		<div class="layout horizontal title center">
			<h1 class="header">{{title}}</h1>
			<div class="flex layout horizontal end-justified">
				<div data-select="analysis" on-click="router" data-toggle="on">
					<div class="circle"></div>
					<div class="type">Analysis</div>
				</div>
				<div data-select="comparison" on-click="router" data-toggle="off" >
					<div class="circle"></div>
					<div class="type">Comparison</div>
				</div>
				<div data-select="training" on-click="router" data-toggle="off">
					<div class="circle"></div>
					<div class="type">Training</div>
				</div>
			</div>
		</div>
	</template>
	<script>
		Polymer({
			is: 'home-navigation',
			ready: function () {
				this.availables = {};
				this.title = 'Analysis';
			},
			router: function (e) {
				var target = e.target;
				while (target.dataset.select === undefined) {
					target = target.parentElement;
				}
				this.querySelector('[data-toggle="on"]').dataset.toggle = 'off';
				target.dataset.toggle = 'on';

				var select = target.dataset.select;
				if (select === 'analysis') {
					app.home = 'analysis';
					urlManager.view('analysis');
					this.title = 'Analysis';
				} else if (select === 'comparison') {
					app.home = 'comparison';
					urlManager.view('comparison');
					this.title = 'Comparison';
				} else if (select === 'training') {
					app.home = 'training';
					urlManager.view('training');
					this.title = 'Training';
				}
			},
			select: function (select) {
				console.log(select);
				this.querySelector('[data-toggle="on"]').dataset.toggle = 'off';
				this.querySelector(`[data-select="${select}"]`).dataset.toggle = 'on';
				if (select === 'analysis') {
					this.title = 'Analysis';
				} else if (select === 'comparison') {
					this.title = 'Comparison';
				} else if (select === 'training') {
					this.title = 'Training';
				}
			},
			setAvailable: function (availables) {
				var navs = ['analysis', 'comparison', 'training'];
				this.availables = availables;
				for (var nav of navs) {
					var navEle = this.querySelector(`[data-select="${nav}"]`);
					if (availables.indexOf(nav) !== -1) {
						navEle.classList.remove('hidden');
					} else {
						navEle.classList.add('hidden');
					}
				}
			}
		});
	</script>
</dom-module>